<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle: knncolle::VpTree&lt; DISTANCE, ITYPE, DTYPE &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">knncolle
   </div>
   <div id="projectbrief">Collection of KNN methods in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>knncolle</b></li><li class="navelem"><a class="el" href="classknncolle_1_1VpTree.html">VpTree</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle_1_1VpTree-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">knncolle::VpTree&lt; DISTANCE, ITYPE, DTYPE &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Perform a nearest neighbor search based on a vantage point (VP) tree.  
 <a href="classknncolle_1_1VpTree.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="VpTree_8hpp_source.html">VpTree.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for knncolle::VpTree&lt; DISTANCE, ITYPE, DTYPE &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1VpTree__inherit__graph.png" border="0" usemap="#aknncolle_1_1VpTree_3_01DISTANCE_00_01ITYPE_00_01DTYPE_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aknncolle_1_1VpTree_3_01DISTANCE_00_01ITYPE_00_01DTYPE_01_4_inherit__map" id="aknncolle_1_1VpTree_3_01DISTANCE_00_01ITYPE_00_01DTYPE_01_4_inherit__map">
<area shape="rect" title="Perform a nearest neighbor search based on a vantage point (VP) tree." alt="" coords="5,95,204,136"/>
<area shape="rect" href="classknncolle_1_1knn__base.html" title=" " alt="" coords="39,5,171,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for knncolle::VpTree&lt; DISTANCE, ITYPE, DTYPE &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1VpTree__coll__graph.png" border="0" usemap="#aknncolle_1_1VpTree_3_01DISTANCE_00_01ITYPE_00_01DTYPE_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aknncolle_1_1VpTree_3_01DISTANCE_00_01ITYPE_00_01DTYPE_01_4_coll__map" id="aknncolle_1_1VpTree_3_01DISTANCE_00_01ITYPE_00_01DTYPE_01_4_coll__map">
<area shape="rect" title="Perform a nearest neighbor search based on a vantage point (VP) tree." alt="" coords="5,95,204,136"/>
<area shape="rect" href="classknncolle_1_1knn__base.html" title=" " alt="" coords="39,5,171,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abf1c8802ddbb709e9eb3a0d233e339a3"><td class="memItemLeft" align="right" valign="top">ITYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1VpTree.html#abf1c8802ddbb709e9eb3a0d233e339a3">nobs</a> () const</td></tr>
<tr class="separator:abf1c8802ddbb709e9eb3a0d233e339a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac77df49096bce32c938a923dee46569d"><td class="memItemLeft" align="right" valign="top">ITYPE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1VpTree.html#ac77df49096bce32c938a923dee46569d">ndim</a> () const</td></tr>
<tr class="separator:ac77df49096bce32c938a923dee46569d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47088f14f8808c4e334928bb00beb765"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1VpTree.html#a47088f14f8808c4e334928bb00beb765">VpTree</a> (ITYPE <a class="el" href="classknncolle_1_1VpTree.html#ac77df49096bce32c938a923dee46569d">ndim</a>, ITYPE <a class="el" href="classknncolle_1_1VpTree.html#abf1c8802ddbb709e9eb3a0d233e339a3">nobs</a>, const DTYPE *vals)</td></tr>
<tr class="separator:a47088f14f8808c4e334928bb00beb765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b96f548f539500456a983fa54f685a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1VpTree.html#a3b96f548f539500456a983fa54f685a4">VpTree</a> (ITYPE <a class="el" href="classknncolle_1_1VpTree.html#ac77df49096bce32c938a923dee46569d">ndim</a>, ITYPE <a class="el" href="classknncolle_1_1VpTree.html#abf1c8802ddbb709e9eb3a0d233e339a3">nobs</a>, std::vector&lt; DTYPE &gt; vals)</td></tr>
<tr class="separator:a3b96f548f539500456a983fa54f685a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3957677f6967019a8a3267885a33fde"><td class="memItemLeft" align="right" valign="top"><a id="ac3957677f6967019a8a3267885a33fde"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>find_nearest_neighbors</b> (ITYPE index, int k, std::vector&lt; ITYPE &gt; *indices, std::vector&lt; DTYPE &gt; *distances) const</td></tr>
<tr class="separator:ac3957677f6967019a8a3267885a33fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a47fc410752dd662bb8e6d2b526aae"><td class="memItemLeft" align="right" valign="top"><a id="a34a47fc410752dd662bb8e6d2b526aae"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>find_nearest_neighbors</b> (const DTYPE *query, int k, std::vector&lt; ITYPE &gt; *indices, std::vector&lt; DTYPE &gt; *distances) const</td></tr>
<tr class="separator:a34a47fc410752dd662bb8e6d2b526aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classknncolle_1_1knn__base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classknncolle_1_1knn__base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classknncolle_1_1knn__base.html">knncolle::knn_base&lt; int, double &gt;</a></td></tr>
<tr class="memitem:a64f90620b75441897f0331a117e49e4a inherit pub_methods_classknncolle_1_1knn__base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1knn__base.html#a64f90620b75441897f0331a117e49e4a">find_nearest_neighbors</a> (int index, int k, std::vector&lt; int &gt; *indices, std::vector&lt; double &gt; *distances) const=0</td></tr>
<tr class="separator:a64f90620b75441897f0331a117e49e4a inherit pub_methods_classknncolle_1_1knn__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37109919305c446aa9c1249a51d0cc53 inherit pub_methods_classknncolle_1_1knn__base"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1knn__base.html#a37109919305c446aa9c1249a51d0cc53">find_nearest_neighbors</a> (const double *query, int k, std::vector&lt; int &gt; *indices, std::vector&lt; double &gt; *distances) const=0</td></tr>
<tr class="separator:a37109919305c446aa9c1249a51d0cc53 inherit pub_methods_classknncolle_1_1knn__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class DISTANCE, typename ITYPE = int, typename DTYPE = double&gt;<br />
class knncolle::VpTree&lt; DISTANCE, ITYPE, DTYPE &gt;</h3>

<p>Perform a nearest neighbor search based on a vantage point (VP) tree. </p>
<p>In a VP tree (Yianilos, 1993), each node contains a subset of points that is split into two further partitions. The split is determined by picking an arbitrary point inside that subset as the node center, computing the distance to all other points from the center, and using the median distance as the "radius" of a hypersphere. The left child of this node contains all points within that hypersphere while the right child contains the remaining points. This is applied recursively until all points resolve to individual nodes.</p>
<p>The nearest neighbor search traverses the tree and exploits the triangle inequality between query points and node centers to narrow the search space. VP trees are often faster than more conventional KD-trees or ball trees as the former uses the points themselves as the nodes of the tree, avoiding the need to create many intermediate nodes and reducing the total number of distance calculations.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">DISTANCE</td><td>Class to compute the distance between vectors, see <code>distance::Euclidean</code> for an example. </td></tr>
    <tr><td class="paramname">ITYPE</td><td>Integer type for the indices. </td></tr>
    <tr><td class="paramname">DTYPE</td><td>Floating point type for the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>Yianilos PN (1993). Data structures and algorithms for nearest neighbor search in general metric spaces. <em>Proceedings of the Fourth Annual ACM-SIAM Symposium on Discrete Algorithms</em>, 311-321. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a47088f14f8808c4e334928bb00beb765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47088f14f8808c4e334928bb00beb765">&#9670;&nbsp;</a></span>VpTree() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename ITYPE  = int, typename DTYPE  = double&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle_1_1VpTree.html">knncolle::VpTree</a>&lt; DISTANCE, ITYPE, DTYPE &gt;::<a class="el" href="classknncolle_1_1VpTree.html">VpTree</a> </td>
          <td>(</td>
          <td class="paramtype">ITYPE&#160;</td>
          <td class="paramname"><em>ndim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITYPE&#160;</td>
          <td class="paramname"><em>nobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const DTYPE *&#160;</td>
          <td class="paramname"><em>vals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a <code><a class="el" href="classknncolle_1_1VpTree.html" title="Perform a nearest neighbor search based on a vantage point (VP) tree.">VpTree</a></code> instance without any copying of the data. The <code>vals</code> pointer is directly stored in the instance, assuming that the lifetime of the array exceeds that of the <code><a class="el" href="classknncolle_1_1BruteForce.html" title="Perform a brute-force nearest neighbor search.">BruteForce</a></code> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndim</td><td>Number of dimensions. </td></tr>
    <tr><td class="paramname">nobs</td><td>Number of observations. </td></tr>
    <tr><td class="paramname">vals</td><td>Pointer to an array of length <code>ndim * nobs</code>, corresponding to a dimension-by-observation matrix in column-major format, i.e., contiguous elements belong to the same observation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3b96f548f539500456a983fa54f685a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b96f548f539500456a983fa54f685a4">&#9670;&nbsp;</a></span>VpTree() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename ITYPE  = int, typename DTYPE  = double&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle_1_1VpTree.html">knncolle::VpTree</a>&lt; DISTANCE, ITYPE, DTYPE &gt;::<a class="el" href="classknncolle_1_1VpTree.html">VpTree</a> </td>
          <td>(</td>
          <td class="paramtype">ITYPE&#160;</td>
          <td class="paramname"><em>ndim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ITYPE&#160;</td>
          <td class="paramname"><em>nobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; DTYPE &gt;&#160;</td>
          <td class="paramname"><em>vals</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Construct a <code><a class="el" href="classknncolle_1_1VpTree.html" title="Perform a nearest neighbor search based on a vantage point (VP) tree.">VpTree</a></code> instance by copying the data. This is useful when the original data container has an unknown lifetime.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndim</td><td>Number of dimensions. </td></tr>
    <tr><td class="paramname">nobs</td><td>Number of observations. </td></tr>
    <tr><td class="paramname">vals</td><td>Vector of length <code>ndim * nobs</code>, corresponding to a dimension-by-observation matrix in column-major format, i.e., contiguous elements belong to the same observation. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac77df49096bce32c938a923dee46569d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac77df49096bce32c938a923dee46569d">&#9670;&nbsp;</a></span>ndim()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename ITYPE  = int, typename DTYPE  = double&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ITYPE <a class="el" href="classknncolle_1_1VpTree.html">knncolle::VpTree</a>&lt; DISTANCE, ITYPE, DTYPE &gt;::ndim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of dimensions. </p>

<p>Implements <a class="el" href="classknncolle_1_1knn__base.html#a77d68bac8e294aa7e243736f2af90abf">knncolle::knn_base&lt; int, double &gt;</a>.</p>

</div>
</div>
<a id="abf1c8802ddbb709e9eb3a0d233e339a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1c8802ddbb709e9eb3a0d233e339a3">&#9670;&nbsp;</a></span>nobs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename ITYPE  = int, typename DTYPE  = double&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ITYPE <a class="el" href="classknncolle_1_1VpTree.html">knncolle::VpTree</a>&lt; DISTANCE, ITYPE, DTYPE &gt;::nobs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of observations in the dataset to be searched. </p>

<p>Implements <a class="el" href="classknncolle_1_1knn__base.html#a88dcba584adfbf34a84d322a8c8fcfac">knncolle::knn_base&lt; int, double &gt;</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>knncolle/VpTree/<a class="el" href="VpTree_8hpp_source.html">VpTree.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
