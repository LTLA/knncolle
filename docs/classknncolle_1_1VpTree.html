<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle: knncolle::VpTree&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_t &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">knncolle
   </div>
   <div id="projectbrief">Collection of KNN methods in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>knncolle</b></li><li class="navelem"><a class="el" href="classknncolle_1_1VpTree.html">VpTree</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle_1_1VpTree-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">knncolle::VpTree&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_t &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Perform a nearest neighbor search based on a vantage point (VP) tree.  
 <a href="classknncolle_1_1VpTree.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="VpTree_8hpp_source.html">VpTree.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for knncolle::VpTree&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_t &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1VpTree__inherit__graph.png" border="0" usemap="#aknncolle_1_1VpTree_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__t_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aknncolle_1_1VpTree_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__t_01_4_inherit__map" id="aknncolle_1_1VpTree_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__t_01_4_inherit__map">
<area shape="rect" title="Perform a nearest neighbor search based on a vantage point (VP) tree." alt="" coords="5,95,219,151"/>
<area shape="rect" href="classknncolle_1_1knn__base.html" title=" " alt="" coords="38,5,186,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for knncolle::VpTree&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_t &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1VpTree__coll__graph.png" border="0" usemap="#aknncolle_1_1VpTree_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__t_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aknncolle_1_1VpTree_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__t_01_4_coll__map" id="aknncolle_1_1VpTree_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__t_01_4_coll__map">
<area shape="rect" title="Perform a nearest neighbor search based on a vantage point (VP) tree." alt="" coords="5,95,219,151"/>
<area shape="rect" href="classknncolle_1_1knn__base.html" title=" " alt="" coords="38,5,186,47"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8869f31b0220424c7318b86709bbf69e"><td class="memItemLeft" align="right" valign="top">INDEX_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1VpTree.html#a8869f31b0220424c7318b86709bbf69e">nobs</a> () const</td></tr>
<tr class="separator:a8869f31b0220424c7318b86709bbf69e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a912697b91cd4f8a9458bd3b988dadf6f"><td class="memItemLeft" align="right" valign="top">INDEX_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1VpTree.html#a912697b91cd4f8a9458bd3b988dadf6f">ndim</a> () const</td></tr>
<tr class="separator:a912697b91cd4f8a9458bd3b988dadf6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9287df6e4a53fff160376be1b28b9186"><td class="memTemplParams" colspan="2">template&lt;typename INPUT &gt; </td></tr>
<tr class="memitem:a9287df6e4a53fff160376be1b28b9186"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classknncolle_1_1VpTree.html#a9287df6e4a53fff160376be1b28b9186">VpTree</a> (INDEX_t <a class="el" href="classknncolle_1_1VpTree.html#a912697b91cd4f8a9458bd3b988dadf6f">ndim</a>, INDEX_t <a class="el" href="classknncolle_1_1VpTree.html#a8869f31b0220424c7318b86709bbf69e">nobs</a>, const INPUT *vals, bool copy=false)</td></tr>
<tr class="separator:a9287df6e4a53fff160376be1b28b9186"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af693fb4cbbea759292204d79b668f832"><td class="memItemLeft" align="right" valign="top"><a id="af693fb4cbbea759292204d79b668f832"></a>
std::vector&lt; std::pair&lt; INDEX_t, DISTANCE_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>find_nearest_neighbors</b> (INDEX_t index, int k) const</td></tr>
<tr class="separator:af693fb4cbbea759292204d79b668f832"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ef509459fcffd3850e92bf3df548506"><td class="memItemLeft" align="right" valign="top"><a id="a3ef509459fcffd3850e92bf3df548506"></a>
std::vector&lt; std::pair&lt; INDEX_t, DISTANCE_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><b>find_nearest_neighbors</b> (const QUERY_t *query, int k) const</td></tr>
<tr class="separator:a3ef509459fcffd3850e92bf3df548506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classknncolle_1_1knn__base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classknncolle_1_1knn__base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classknncolle_1_1knn__base.html">knncolle::knn_base&lt; int, double, double &gt;</a></td></tr>
<tr class="memitem:a6333b53ccc5c80da53b736f0ebd8e051 inherit pub_methods_classknncolle_1_1knn__base"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::pair&lt; int, double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1knn__base.html#a6333b53ccc5c80da53b736f0ebd8e051">find_nearest_neighbors</a> (int index, int k) const=0</td></tr>
<tr class="separator:a6333b53ccc5c80da53b736f0ebd8e051 inherit pub_methods_classknncolle_1_1knn__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ebba6f71672e3c36849c47f52b516d inherit pub_methods_classknncolle_1_1knn__base"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::pair&lt; int, double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1knn__base.html#a59ebba6f71672e3c36849c47f52b516d">find_nearest_neighbors</a> (const double *query, int k) const=0</td></tr>
<tr class="separator:a59ebba6f71672e3c36849c47f52b516d inherit pub_methods_classknncolle_1_1knn__base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class DISTANCE, typename INDEX_t = int, typename DISTANCE_t = double, typename QUERY_t = double, typename INTERNAL_t = double&gt;<br />
class knncolle::VpTree&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_t &gt;</h3>

<p>Perform a nearest neighbor search based on a vantage point (VP) tree. </p>
<p>In a VP tree (Yianilos, 1993), each node contains a subset of points that is split into two further partitions. The split is determined by picking an arbitrary point inside that subset as the node center, computing the distance to all other points from the center, and using the median distance as the "radius" of a hypersphere. The left child of this node contains all points within that hypersphere while the right child contains the remaining points. This is applied recursively until all points resolve to individual nodes.</p>
<p>The nearest neighbor search traverses the tree and exploits the triangle inequality between query points and node centers to narrow the search space. VP trees are often faster than more conventional KD-trees or ball trees as the former uses the points themselves as the nodes of the tree, avoiding the need to create many intermediate nodes and reducing the total number of distance calculations.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">DISTANCE</td><td>Class to compute the distance between vectors, see <code>distance::Euclidean</code> for an example. </td></tr>
    <tr><td class="paramname">INDEX_t</td><td>Integer type for the indices. </td></tr>
    <tr><td class="paramname">DISTANCE_t</td><td>Floating point type for the distances. </td></tr>
    <tr><td class="paramname">QUERY_t</td><td>Floating point type for the query data. </td></tr>
    <tr><td class="paramname">INTERNAL_t</td><td>Floating point type for the data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd>Yianilos PN (1993). Data structures and algorithms for nearest neighbor search in general metric spaces. <em>Proceedings of the Fourth Annual ACM-SIAM Symposium on Discrete Algorithms</em>, 311-321. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9287df6e4a53fff160376be1b28b9186"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9287df6e4a53fff160376be1b28b9186">&#9670;&nbsp;</a></span>VpTree()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = double, typename INTERNAL_t  = double&gt; </div>
<div class="memtemplate">
template&lt;typename INPUT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle_1_1VpTree.html">knncolle::VpTree</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_t &gt;::<a class="el" href="classknncolle_1_1VpTree.html">VpTree</a> </td>
          <td>(</td>
          <td class="paramtype">INDEX_t&#160;</td>
          <td class="paramname"><em>ndim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INDEX_t&#160;</td>
          <td class="paramname"><em>nobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const INPUT *&#160;</td>
          <td class="paramname"><em>vals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>copy</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndim</td><td>Number of dimensions. </td></tr>
    <tr><td class="paramname">nobs</td><td>Number of observations. </td></tr>
    <tr><td class="paramname">vals</td><td>Pointer to an array of length <code>ndim * nobs</code>, corresponding to a dimension-by-observation matrix in column-major format, i.e., contiguous elements belong to the same observation. </td></tr>
    <tr><td class="paramname">copy</td><td>Whether the data in <code>vals</code> should be copied to an internal store. By default, no copy is performed under the assumption that the array in <code>vals</code> lives longer than the constructed <code><a class="el" href="classknncolle_1_1VpTree.html" title="Perform a nearest neighbor search based on a vantage point (VP) tree.">VpTree</a></code> instance.</td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">INPUT</td><td>Floating-point type of the input data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a912697b91cd4f8a9458bd3b988dadf6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a912697b91cd4f8a9458bd3b988dadf6f">&#9670;&nbsp;</a></span>ndim()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = double, typename INTERNAL_t  = double&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">INDEX_t <a class="el" href="classknncolle_1_1VpTree.html">knncolle::VpTree</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_t &gt;::ndim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of dimensions. </p>

<p>Implements <a class="el" href="classknncolle_1_1knn__base.html#a6576816c284207b88d774b9dd3160948">knncolle::knn_base&lt; int, double, double &gt;</a>.</p>

</div>
</div>
<a id="a8869f31b0220424c7318b86709bbf69e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8869f31b0220424c7318b86709bbf69e">&#9670;&nbsp;</a></span>nobs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = double, typename INTERNAL_t  = double&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">INDEX_t <a class="el" href="classknncolle_1_1VpTree.html">knncolle::VpTree</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_t &gt;::nobs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of observations in the dataset to be searched. </p>

<p>Implements <a class="el" href="classknncolle_1_1knn__base.html#ac1b89128bee92a46a94dd0fe9655eddb">knncolle::knn_base&lt; int, double, double &gt;</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>knncolle/VpTree/<a class="el" href="VpTree_8hpp_source.html">VpTree.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
