<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>knncolle: knncolle::Annoy&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">knncolle
   </div>
   <div id="projectbrief">Collection of KNN methods in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>knncolle</b></li><li class="navelem"><a class="el" href="classknncolle_1_1Annoy.html">Annoy</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classknncolle_1_1Annoy-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">knncolle::Annoy&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Perform an approximate nearest neighbor search with <a class="el" href="classknncolle_1_1Annoy.html" title="Perform an approximate nearest neighbor search with Annoy.">Annoy</a>.  
 <a href="classknncolle_1_1Annoy.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Annoy_8hpp_source.html">Annoy.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for knncolle::Annoy&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1Annoy__inherit__graph.png" border="0" usemap="#aknncolle_1_1Annoy_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__INDEX__t_00_01INTERNAL__DATA__t_01_4_inherit__map" alt="Inheritance graph"/></div>
<map name="aknncolle_1_1Annoy_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__INDEX__t_00_01INTERNAL__DATA__t_01_4_inherit__map" id="aknncolle_1_1Annoy_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__INDEX__t_00_01INTERNAL__DATA__t_01_4_inherit__map">
<area shape="rect" title="Perform an approximate nearest neighbor search with Annoy." alt="" coords="5,93,243,163"/>
<area shape="rect" href="classknncolle_1_1Base.html" title="Virtual base class defining the knncolle interface." alt="" coords="28,5,220,45"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for knncolle::Annoy&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;:</div>
<div class="dyncontent">
<div class="center"><img src="classknncolle_1_1Annoy__coll__graph.png" border="0" usemap="#aknncolle_1_1Annoy_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__INDEX__t_00_01INTERNAL__DATA__t_01_4_coll__map" alt="Collaboration graph"/></div>
<map name="aknncolle_1_1Annoy_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__INDEX__t_00_01INTERNAL__DATA__t_01_4_coll__map" id="aknncolle_1_1Annoy_3_01DISTANCE_00_01INDEX__t_00_01DISTANCE__t_00_01QUERY__t_00_01INTERNAL__INDEX__t_00_01INTERNAL__DATA__t_01_4_coll__map">
<area shape="rect" title="Perform an approximate nearest neighbor search with Annoy." alt="" coords="5,93,243,163"/>
<area shape="rect" href="classknncolle_1_1Base.html" title="Virtual base class defining the knncolle interface." alt="" coords="28,5,220,45"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structknncolle_1_1Annoy_1_1Defaults.html">Defaults</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afe5eb74c2542015d85943a286d4222ff"><td class="memItemLeft" align="right" valign="top">INDEX_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Annoy.html#afe5eb74c2542015d85943a286d4222ff">nobs</a> () const</td></tr>
<tr class="separator:afe5eb74c2542015d85943a286d4222ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c400d8bd832853b5455a9061966c751"><td class="memItemLeft" align="right" valign="top">INDEX_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Annoy.html#a1c400d8bd832853b5455a9061966c751">ndim</a> () const</td></tr>
<tr class="separator:a1c400d8bd832853b5455a9061966c751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e50c3c409d9a68936e13ade5c168d0"><td class="memTemplParams" colspan="2">template&lt;typename INPUT &gt; </td></tr>
<tr class="memitem:ad1e50c3c409d9a68936e13ade5c168d0"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Annoy.html#ad1e50c3c409d9a68936e13ade5c168d0">Annoy</a> (INDEX_t <a class="el" href="classknncolle_1_1Annoy.html#a1c400d8bd832853b5455a9061966c751">ndim</a>, INDEX_t <a class="el" href="classknncolle_1_1Annoy.html#afe5eb74c2542015d85943a286d4222ff">nobs</a>, const INPUT *vals, int ntrees=<a class="el" href="structknncolle_1_1Annoy_1_1Defaults.html#a053f73012079ecad4de0e4c8b9b526c7">Defaults::ntrees</a>, double search_mult=<a class="el" href="structknncolle_1_1Annoy_1_1Defaults.html#aef5775a1bd6490f05178b4f88d017dee">Defaults::search_mult</a>)</td></tr>
<tr class="separator:ad1e50c3c409d9a68936e13ade5c168d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979299414dd2de1843f52d03ee370a9e"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; INDEX_t, DISTANCE_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Annoy.html#a979299414dd2de1843f52d03ee370a9e">find_nearest_neighbors</a> (INDEX_t index, int k) const</td></tr>
<tr class="separator:a979299414dd2de1843f52d03ee370a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52eb52c435f0ecbd11cd113b5b437c77"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair&lt; INDEX_t, DISTANCE_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Annoy.html#a52eb52c435f0ecbd11cd113b5b437c77">find_nearest_neighbors</a> (const QUERY_t *query, int k) const</td></tr>
<tr class="separator:a52eb52c435f0ecbd11cd113b5b437c77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e23682e5952c98063dc78def98036c7"><td class="memItemLeft" align="right" valign="top">const QUERY_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Annoy.html#a7e23682e5952c98063dc78def98036c7">observation</a> (INDEX_t index, QUERY_t *buffer) const</td></tr>
<tr class="separator:a7e23682e5952c98063dc78def98036c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classknncolle_1_1Base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classknncolle_1_1Base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classknncolle_1_1Base.html">knncolle::Base&lt; INDEX_t, DISTANCE_t, QUERY_t &gt;</a></td></tr>
<tr class="memitem:af71a6194f8c10982817d0f7a2d1e37a6 inherit pub_methods_classknncolle_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual INDEX_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Base.html#af71a6194f8c10982817d0f7a2d1e37a6">nobs</a> () const =0</td></tr>
<tr class="separator:af71a6194f8c10982817d0f7a2d1e37a6 inherit pub_methods_classknncolle_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544049d99949710f35a067fc7e48c0a7 inherit pub_methods_classknncolle_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual INDEX_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Base.html#a544049d99949710f35a067fc7e48c0a7">ndim</a> () const =0</td></tr>
<tr class="separator:a544049d99949710f35a067fc7e48c0a7 inherit pub_methods_classknncolle_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a58c1e4d737ce01515129c5b5257327 inherit pub_methods_classknncolle_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual const QUERY_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Base.html#a2a58c1e4d737ce01515129c5b5257327">observation</a> (INDEX_t index, QUERY_t *buffer) const =0</td></tr>
<tr class="separator:a2a58c1e4d737ce01515129c5b5257327 inherit pub_methods_classknncolle_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7616f71913cd269283b5669a7d01176 inherit pub_methods_classknncolle_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; QUERY_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Base.html#ab7616f71913cd269283b5669a7d01176">observation</a> (INDEX_t index) const</td></tr>
<tr class="separator:ab7616f71913cd269283b5669a7d01176 inherit pub_methods_classknncolle_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a966ab9bdec2815809241637b1ab90334 inherit pub_methods_classknncolle_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::pair&lt; INDEX_t, DISTANCE_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Base.html#a966ab9bdec2815809241637b1ab90334">find_nearest_neighbors</a> (INDEX_t index, int k) const =0</td></tr>
<tr class="separator:a966ab9bdec2815809241637b1ab90334 inherit pub_methods_classknncolle_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a21b15908c0c80094402cce2e496626 inherit pub_methods_classknncolle_1_1Base"><td class="memItemLeft" align="right" valign="top">virtual std::vector&lt; std::pair&lt; INDEX_t, DISTANCE_t &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classknncolle_1_1Base.html#a1a21b15908c0c80094402cce2e496626">find_nearest_neighbors</a> (const QUERY_t *query, int k) const =0</td></tr>
<tr class="separator:a1a21b15908c0c80094402cce2e496626 inherit pub_methods_classknncolle_1_1Base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class DISTANCE, typename INDEX_t = int, typename DISTANCE_t = double, typename QUERY_t = DISTANCE_t, typename INTERNAL_INDEX_t = int32_t, typename INTERNAL_DATA_t = float&gt;<br />
class knncolle::Annoy&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;</div><p>Perform an approximate nearest neighbor search with <a class="el" href="classknncolle_1_1Annoy.html" title="Perform an approximate nearest neighbor search with Annoy.">Annoy</a>. </p>
<p>In the Approximate Nearest Neighbors Oh Yeah (<a class="el" href="classknncolle_1_1Annoy.html" title="Perform an approximate nearest neighbor search with Annoy.">Annoy</a>) algorithm, a tree is constructed where a random hyperplane splits the points into two subsets at each internal node. Leaf nodes are defined when the number of points in a subset falls below a threshold (close to twice the number of dimensions for the settings used here). Multiple trees are constructed in this manner, each of which is different due to the random choice of hyperplanes. For a given query point, each tree is searched to identify the subset of all points in the same leaf node as the query point. The union of these subsets across all trees is exhaustively searched to identify the actual nearest neighbors to the query.</p>
<p>Note that, to improve reproducibility across architectures, we have disabled manual vectorization of the distance calculations by default. This can be restored by defining the <code>KNNCOLLE_MANUAL_VECTORIZATION</code> macro.</p>
<dl class="section see"><dt>See also</dt><dd>Bernhardsson E (2018). <a class="el" href="classknncolle_1_1Annoy.html" title="Perform an approximate nearest neighbor search with Annoy.">Annoy</a>. <a href="https://github.com/spotify/annoy">https://github.com/spotify/annoy</a></dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">DISTANCE</td><td>An <b><a class="el" href="classknncolle_1_1Annoy.html" title="Perform an approximate nearest neighbor search with Annoy.">Annoy</a></b>-derived class to compute the distance between vectors. Note that this is not the same as the classes in <code><a class="el" href="distances_8hpp.html" title="Classes for distance calculations.">distances.hpp</a></code>. </td></tr>
    <tr><td class="paramname">INDEX_t</td><td>Integer type for the indices. </td></tr>
    <tr><td class="paramname">DISTANCE_t</td><td>Floating point type for the distances. </td></tr>
    <tr><td class="paramname">INTERNAL_INDEX_t</td><td>Integer type for the internal indices. </td></tr>
    <tr><td class="paramname">INTERNAL_DATA_t</td><td>Floating point type for the internal data store. This uses a <code>float</code> instead of a <code>double</code> to sacrifice some accuracy for performance. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad1e50c3c409d9a68936e13ade5c168d0" name="ad1e50c3c409d9a68936e13ade5c168d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e50c3c409d9a68936e13ade5c168d0">&#9670;&#160;</a></span>Annoy()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = DISTANCE_t, typename INTERNAL_INDEX_t  = int32_t, typename INTERNAL_DATA_t  = float&gt; </div>
<div class="memtemplate">
template&lt;typename INPUT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classknncolle_1_1Annoy.html">knncolle::Annoy</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;::Annoy </td>
          <td>(</td>
          <td class="paramtype">INDEX_t&#160;</td>
          <td class="paramname"><em>ndim</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">INDEX_t&#160;</td>
          <td class="paramname"><em>nobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const INPUT *&#160;</td>
          <td class="paramname"><em>vals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ntrees</em> = <code><a class="el" href="structknncolle_1_1Annoy_1_1Defaults.html#a053f73012079ecad4de0e4c8b9b526c7">Defaults::ntrees</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>search_mult</em> = <code><a class="el" href="structknncolle_1_1Annoy_1_1Defaults.html#aef5775a1bd6490f05178b4f88d017dee">Defaults::search_mult</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ndim</td><td>Number of dimensions. </td></tr>
    <tr><td class="paramname">nobs</td><td>Number of observations. </td></tr>
    <tr><td class="paramname">vals</td><td>Pointer to an array of length <code>ndim * nobs</code>, corresponding to a dimension-by-observation matrix in column-major format, i.e., contiguous elements belong to the same observation. </td></tr>
    <tr><td class="paramname">ntrees</td><td>Number of trees to construct. Larger values improve accuracy at the cost of index size (i.e., memory usage), see <a href="https://github.com/spotify/annoy#tradeoffs">here</a> for details. </td></tr>
    <tr><td class="paramname">search_mult</td><td>Factor that is multiplied by the number of neighbors <code>k</code> to determine the number of nodes to search in <code><a class="el" href="classknncolle_1_1Annoy.html#a979299414dd2de1843f52d03ee370a9e">find_nearest_neighbors()</a></code>. Larger values improve accuracy at the cost of runtime, see <a href="https://github.com/spotify/annoy#tradeoffs">here</a> for details. If set to -1, it defaults to <code>ntrees</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">INPUT</td><td>Floating-point type of the input data. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a52eb52c435f0ecbd11cd113b5b437c77" name="a52eb52c435f0ecbd11cd113b5b437c77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52eb52c435f0ecbd11cd113b5b437c77">&#9670;&#160;</a></span>find_nearest_neighbors() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = DISTANCE_t, typename INTERNAL_INDEX_t  = int32_t, typename INTERNAL_DATA_t  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; INDEX_t, DISTANCE_t &gt; &gt; <a class="el" href="classknncolle_1_1Annoy.html">knncolle::Annoy</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;::find_nearest_neighbors </td>
          <td>(</td>
          <td class="paramtype">const QUERY_t *&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find the nearest neighbors of a new observation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">query</td><td>Pointer to an array of length equal to <code>ndims()</code>, containing the coordinates of the query point. </td></tr>
    <tr><td class="paramname">k</td><td>The number of neighbors to identify.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of (index, distance) pairs containing the identities of the nearest neighbors in order of increasing distance. Length is at most <code>k</code> but may be shorter if the total number of observations is less than <code>k</code>. </dd></dl>

<p>Implements <a class="el" href="classknncolle_1_1Base.html#a1a21b15908c0c80094402cce2e496626">knncolle::Base&lt; INDEX_t, DISTANCE_t, QUERY_t &gt;</a>.</p>

</div>
</div>
<a id="a979299414dd2de1843f52d03ee370a9e" name="a979299414dd2de1843f52d03ee370a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a979299414dd2de1843f52d03ee370a9e">&#9670;&#160;</a></span>find_nearest_neighbors() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = DISTANCE_t, typename INTERNAL_INDEX_t  = int32_t, typename INTERNAL_DATA_t  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; INDEX_t, DISTANCE_t &gt; &gt; <a class="el" href="classknncolle_1_1Annoy.html">knncolle::Annoy</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;::find_nearest_neighbors </td>
          <td>(</td>
          <td class="paramtype">INDEX_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Find the nearest neighbors of the <code>index</code>-th observation in the dataset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>The index of the observation of interest. This should be non-negative and less than the total number of observations in <code><a class="el" href="classknncolle_1_1Annoy.html#afe5eb74c2542015d85943a286d4222ff">nobs()</a></code>. </td></tr>
    <tr><td class="paramname">k</td><td>The number of neighbors to identify.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A vector of (index, distance) pairs containing the identities of the nearest neighbors in order of increasing distance. Length is at most <code>k</code> but may be shorter if the total number of observations is less than <code>k + 1</code>. </dd></dl>

<p>Implements <a class="el" href="classknncolle_1_1Base.html#a966ab9bdec2815809241637b1ab90334">knncolle::Base&lt; INDEX_t, DISTANCE_t, QUERY_t &gt;</a>.</p>

</div>
</div>
<a id="a1c400d8bd832853b5455a9061966c751" name="a1c400d8bd832853b5455a9061966c751"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c400d8bd832853b5455a9061966c751">&#9670;&#160;</a></span>ndim()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = DISTANCE_t, typename INTERNAL_INDEX_t  = int32_t, typename INTERNAL_DATA_t  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">INDEX_t <a class="el" href="classknncolle_1_1Annoy.html">knncolle::Annoy</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;::ndim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of dimensions. </p>

<p>Implements <a class="el" href="classknncolle_1_1Base.html#a544049d99949710f35a067fc7e48c0a7">knncolle::Base&lt; INDEX_t, DISTANCE_t, QUERY_t &gt;</a>.</p>

</div>
</div>
<a id="afe5eb74c2542015d85943a286d4222ff" name="afe5eb74c2542015d85943a286d4222ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe5eb74c2542015d85943a286d4222ff">&#9670;&#160;</a></span>nobs()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = DISTANCE_t, typename INTERNAL_INDEX_t  = int32_t, typename INTERNAL_DATA_t  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">INDEX_t <a class="el" href="classknncolle_1_1Annoy.html">knncolle::Annoy</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;::nobs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the number of observations in the dataset to be searched. </p>

<p>Implements <a class="el" href="classknncolle_1_1Base.html#af71a6194f8c10982817d0f7a2d1e37a6">knncolle::Base&lt; INDEX_t, DISTANCE_t, QUERY_t &gt;</a>.</p>

</div>
</div>
<a id="a7e23682e5952c98063dc78def98036c7" name="a7e23682e5952c98063dc78def98036c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e23682e5952c98063dc78def98036c7">&#9670;&#160;</a></span>observation()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class DISTANCE , typename INDEX_t  = int, typename DISTANCE_t  = double, typename QUERY_t  = DISTANCE_t, typename INTERNAL_INDEX_t  = int32_t, typename INTERNAL_DATA_t  = float&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const QUERY_t * <a class="el" href="classknncolle_1_1Annoy.html">knncolle::Annoy</a>&lt; DISTANCE, INDEX_t, DISTANCE_t, QUERY_t, INTERNAL_INDEX_t, INTERNAL_DATA_t &gt;::observation </td>
          <td>(</td>
          <td class="paramtype">INDEX_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QUERY_t *&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the vector of coordinates for a given observation in the dataset. Type conversions may be performed if <code>QUERY_t</code> differs from the type of the internal data store.</p>
<p><code>buffer</code> may not be filled if a pointer to the internal data store can be returned directly. This can be assumed to be the case if the return address is not the same as <code>buffer</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">index</td><td>Index of the observation. This should be non-negative and less than the total number of observations in <code><a class="el" href="classknncolle_1_1Annoy.html#afe5eb74c2542015d85943a286d4222ff">nobs()</a></code>. </td></tr>
    <tr><td class="paramname">buffer</td><td>Buffer to store the coordinates.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to an array containing the coordinate vector. </dd></dl>

<p>Implements <a class="el" href="classknncolle_1_1Base.html#a2a58c1e4d737ce01515129c5b5257327">knncolle::Base&lt; INDEX_t, DISTANCE_t, QUERY_t &gt;</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>knncolle/Annoy/<a class="el" href="Annoy_8hpp_source.html">Annoy.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
